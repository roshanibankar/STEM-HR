{% extends 'HRservices/layout.html' %}
{% load static %}

{% block content %}
<header class="py-8">
  <div class="container mx-auto text-center">
    <img src="{% static 'HRservices/media/logo.png' %}" alt="Logo" class="mx-auto h-36">
  </div>
</header>

<section class="py-12 text-center">
  <div class="container mx-auto">
    <h1 class="text-4xl font-bold mb-4">Welcome to STEM HR Services</h1>
    <p class="text-xl italic font-semibold mb-4">Find your next adventure here!</p>
    <p class="text-lg mb-6">
      Connecting top STEM talent with innovative employers. Whether you're a recent graduate or a seasoned professional, we help you take the next step in your career.
    </p>
    <a href="/jobs/" class="bg-blue-600 text-white py-2 px-6 rounded hover:bg-blue-700 transition">Explore Job Openings</a>
  </div>
</section>


<!-- Testimonials -->
<div class="py-12 bg-orange-500">
  <div class="max-w-xl mx-auto text-center bg-white p-8 rounded-xl shadow-lg">
    <h2 class="text-2xl font-bold mb-6">Our Testimonials</h2>
    <div id="testimonialCarousel" class="carousel-inner">
      {% for t in testimonials %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <p class="text-gray-700 text-lg mb-2">“{{ t.testimonial }}”</p>
        <p class="text-yellow-500 font-semibold">– {{ t.name }}</p>
        <p class="text-gray-400 text-sm">{{ t.date }}</p>
      </div>
      {% empty %}
      <div class="carousel-item active">
        <p>No testimonials yet.</p>
      </div>
      {% endfor %}
    </div>
    <div class="flex justify-between mt-6">
      <button data-action="prev" class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400">&larr;</button>
      <button data-action="next" class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400">&rarr;</button>
    </div>
  </div>
</div>

<!-- About Section -->
<section class="py-12 bg-gray-50 text-center">
  <div class="container mx-auto">
    <h2 class="text-3xl font-bold mb-4">About STEM HR Services</h2>
    <p class="text-lg mb-6">
      STEM HR Services bridges the gap between forward-thinking visionary companies and exceptional STEM professionals. We are committed to nurturing talent and connect you with organizations that value innovation and expertise.
    </p>
    <a href="{% url 'about' %}" class="text-blue-600 underline font-semibold hover:text-blue-800">Continue Reading →</a>
  </div>
</section>

<!-- ===================== CLIENTS SECTION ===================== -->
<section class="clients-section bg-white py-12 relative">

  <div class="container mx-auto text-center mb-12">
    <h2 class="text-3xl font-bold mb-4">Our Clients</h2>
    <p class="text-lg mb-8">We’re proud to partner with forward-thinking companies across STEM industries.</p>

    <!-- CLIENT LOGOS -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 justify-center items-center max-w-4xl mx-auto">
      <img src="{% static 'HRservices/media/client1.jpg' %}" 
           class="client-trigger cursor-pointer hover:scale-105 transition-transform" 
           data-target="client-expand-1" 
           alt="Client One">
      <img src="{% static 'HRservices/media/client.jpg' %}" 
           class="client-trigger cursor-pointer hover:scale-105 transition-transform" 
           data-target="client-expand-2" 
           alt="Client Two">
    </div>
  </div>

  <!-- EXPANDED CLIENT PANELS -->
  <div class="clients-expanded-wrapper">

    <!-- CLIENT 1 -->
    <div id="client-expand-1" class="client-expand max-h-0 overflow-hidden transition-all duration-700">
      <div class="grid md:grid-cols-2 min-h-[24rem] bg-orange-500 text-white">
        
        <!-- TEXT -->
        <div class="p-8 flex flex-col justify-center">
          <h3 class="text-2xl font-bold mb-2">Client One</h3>
          <p class="text-yellow-400 mb-4">AI & Robotics Company</p>
          <p class="mb-6">Delivered end-to-end recruitment for advanced AI and robotics teams, scaling global R&D operations across three continents.</p>
          <ul class="space-y-2 text-sm">
            <li><strong>120+</strong> Engineers hired</li>
            <li><strong>40%</strong> Faster hiring</li>
            <li><strong>2023–Present</strong> Partnership</li>
          </ul>
        </div>

        <!-- CAROUSEL -->
        <div class="relative">
          <div class="client-carousel carousel-inner">
            <img src="{% static 'HRservices/media/client1.jpg' %}" class="carousel-item w-full h-[28rem] object-cover">
            <img src="{% static 'HRservices/media/client2.jpg' %}" class="carousel-item w-full h-[28rem] object-cover hidden">
            <img src="{% static 'HRservices/media/client3.jpg' %}" class="carousel-item w-full h-[28rem] object-cover hidden">
          </div>
          <button class="absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded" data-action="prev">&#10094;</button>
          <button class="absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded" data-action="next">&#10095;</button>
        </div>

      </div>
    </div>

    <!-- CLIENT 2 -->
    <div id="client-expand-2" class="client-expand max-h-0 overflow-hidden transition-all duration-700">
      <div class="grid md:grid-cols-2 min-h-[24rem] bg-orange-500 text-white">
        
        <!-- TEXT -->
        <div class="p-8 flex flex-col justify-center">
          <h3 class="text-2xl font-bold mb-2">Client Two</h3>
          <p class="text-yellow-400 mb-4">Semiconductor & VLSI</p>
          <p class="mb-6">Built a high-performance semiconductor engineering team, from graduate pipelines to senior technical leadership.</p>
          <ul class="space-y-2 text-sm">
            <li><strong>60</strong> VLSI engineers</li>
            <li><strong>12</strong> Universities</li>
            <li><strong>Long-term</strong> Growth partner</li>
          </ul>
        </div>

        <!-- CAROUSEL -->
        <div class="relative">
          <div class="client-carousel carousel-inner">
            <img src="{% static 'HRservices/media/client1.jpg' %}" class="carousel-item w-full h-[28rem] object-cover">
            <img src="{% static 'HRservices/media/client2.jpg' %}" class="carousel-item w-full h-[28rem] object-cover hidden">
            <img src="{% static 'HRservices/media/client3.jpg' %}" class="carousel-item w-full h-[28rem] object-cover hidden">
          </div>
          <button class="absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded" data-action="prev">&#10094;</button>
          <button class="absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-50 text-white px-2 py-1 rounded" data-action="next">&#10095;</button>
        </div>

      </div>
    </div>

  </div>

</section>

<!-- ===================== CLIENTS SCRIPT ===================== -->
<script>
// Expand/collapse client panels
const triggers = document.querySelectorAll('.client-trigger');
const panels = document.querySelectorAll('.client-expand');

triggers.forEach(trigger => {
  trigger.addEventListener('click', () => {
    const target = document.getElementById(trigger.dataset.target);
    const isOpen = target.classList.contains('open');

    panels.forEach(panel => {
      panel.classList.remove('open');
      panel.style.maxHeight = '0';
    });

    if(!isOpen) {
      target.classList.add('open');
      target.style.maxHeight = target.scrollHeight + 'px';
      target.scrollIntoView({behavior: 'smooth', block: 'start'});
    }
  });
});

// Simple carousel logic for client carousels
document.querySelectorAll('.client-carousel').forEach(carousel => {
  let index = 0;
  const items = carousel.querySelectorAll('.carousel-item');
  const showSlide = i => {
    items.forEach((item, idx) => item.classList.toggle('hidden', idx !== i));
  };
  showSlide(index);
  const parent = carousel.parentElement;
  parent.querySelectorAll('[data-action]').forEach(btn => {
    btn.addEventListener('click', () => {
      if(btn.dataset.action === 'next') index = (index+1)%items.length;
      else index = (index-1 + items.length)%items.length;
      showSlide(index);
    });
  });
});
</script>


<!-- Carousel JS -->
<script>
document.querySelectorAll('.carousel-inner').forEach(carousel => {
  let index = 0;
  const items = carousel.querySelectorAll('.carousel-item');
  const showSlide = i => {
    items.forEach((item, idx) => item.classList.toggle('hidden', idx !== i));
  };
  showSlide(index);
  carousel.parentElement.querySelectorAll('[data-action]').forEach(btn => {
    btn.addEventListener('click', () => {
      if(btn.dataset.action === 'next') index = (index+1) % items.length;
      else index = (index-1 + items.length) % items.length;
      showSlide(index);
    });
  });
});
</script>


{% endblock %}
